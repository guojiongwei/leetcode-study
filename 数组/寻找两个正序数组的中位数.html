<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>

/**
 * https://leetcode-cn.com/problems/median-of-two-sorted-arrays/
 * 输入：nums1 = [1,3], nums2 = [2]
  输出：2.00000
  解释：合并数组 = [1,2,3] ，中位数 2
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number}
 */
// O(n)的解法
 var findMedianSortedArrays = function(nums1, nums2) {
    let res = [], length1 = nums1.length, length2 = nums2.length
    let left = 0, right = 0
    while((left < length1 || right < length2) && (res.length <= Math.floor((length1+length2)/2))) {
      if(nums1[left] < nums2[right] || nums2[right] === undefined) {
        res.push(nums1[left])
        left ++
      } else {
        res.push(nums2[right])
        right ++
      }
    }
    let allLength = length1 + length2
    if(allLength % 2 === 1) {
      return res[res.length - 1]
    } else {
      return res[res.length - 2] + (res[res.length - 1]-  res[res.length - 2]) / 2
    }
  };

  // O(log (m+n))解法

/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number}
 */
  var findMedianSortedArrays = function(nums1, nums2) {
    let m = nums1.length, n = nums2.length;
    let i = 0, j = 0;
    let newArr = [];
    while (i < m && j < n) {
        if (nums1[i] < nums2[j]) {
            newArr.push(nums1[i++]);
        } else {
            newArr.push(nums2[j++]);
        }
    }
    newArr = newArr.concat(i < m ? nums1.slice(i) : nums2.slice(j));
    const len = newArr.length;
    console.log(newArr)
    if (len % 2 === 0) {
        return (newArr[len / 2] + newArr[len / 2 - 1]) / 2;
    } else {
        return newArr[Math.floor(len / 2)];
    }
  };


  </script>
</body>
</html>
